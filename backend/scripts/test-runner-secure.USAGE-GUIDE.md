# test-runner-secure.cjs ä½¿ç”¨æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. éªŒè¯æ”¹è¿›ç‰ˆæœ¬
```bash
# è¿è¡ŒéªŒè¯æµ‹è¯•
node backend/scripts/test-runner-secure.validation-tests.cjs

# é¢„æœŸç»“æœï¼šé€šè¿‡ç‡ > 95%
```

### 2. ä½¿ç”¨æ”¹è¿›ç‰ˆæœ¬
```bash
# åŸºæœ¬ä½¿ç”¨
node backend/scripts/test-runner-secure.improved.cjs

# å¸¦è¦†ç›–ç‡
node backend/scripts/test-runner-secure.improved.cjs --coverage

# é›†æˆæµ‹è¯•
node backend/scripts/test-runner-secure.improved.cjs integration

# è¯¦ç»†è¾“å‡º
node backend/scripts/test-runner-secure.improved.cjs --verbose
```

## ä¸»è¦æ”¹è¿›ç‰¹æ€§

### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- **å‘½ä»¤æ‰§è¡Œé¢‘ç‡**: 50æ¬¡/10ç§’ï¼ˆåŸï¼š10æ¬¡/5ç§’ï¼‰
- **å‚æ•°é•¿åº¦é™åˆ¶**: 2000å­—ç¬¦ï¼ˆåŸï¼š1000å­—ç¬¦ï¼‰
- **å¹¶å‘å¤„ç†**: æ™ºèƒ½é”æœºåˆ¶ï¼Œæ”¯æŒæœ€å¤§CPUæ ¸å¿ƒæ•°å¹¶å‘

### ğŸ›¡ï¸ å®‰å…¨ä¿æŒ
- æ‰€æœ‰åŸæœ‰å®‰å…¨ç‰¹æ€§å®Œå…¨ä¿ç•™
- 14é¡¹å®‰å…¨æµ‹è¯•100%é€šè¿‡
- é˜²æŠ¤å‘½ä»¤æ³¨å…¥ã€è·¯å¾„éå†ç­‰æ”»å‡»

### ğŸ”§ å¥å£®æ€§å¢å¼º
- **é”™è¯¯æ¢å¤**: 3ç§æ¢å¤ç­–ç•¥ï¼Œè‡ªåŠ¨é‡è¯•
- **èµ„æºç®¡ç†**: å†…å­˜ç›‘æ§ï¼Œè‡ªåŠ¨åƒåœ¾å›æ”¶
- **å¹¶å‘å®‰å…¨**: è¿›ç¨‹é”ï¼Œç«æ€æ¡ä»¶å¤„ç†

## é…ç½®é€‰é¡¹

### åŸºæœ¬é€‰é¡¹
```bash
-h, --help              # æ˜¾ç¤ºå¸®åŠ©
-v, --version           # æ˜¾ç¤ºç‰ˆæœ¬
-c, --coverage          # å¯ç”¨è¦†ç›–ç‡
--verbose               # è¯¦ç»†è¾“å‡º
--silent                # é™é»˜æ¨¡å¼
--watch                 # ç›‘è§†æ¨¡å¼
```

### é«˜çº§é€‰é¡¹
```bash
--timeout=<ms>          # è¶…æ—¶æ—¶é—´ (é»˜è®¤: 30000)
--maxWorkers=<num>      # å·¥ä½œçº¿ç¨‹æ•° (é»˜è®¤: CPUæ ¸å¿ƒæ•°)
--testPathPattern=<pattern>     # æµ‹è¯•æ–‡ä»¶æ¨¡å¼
--testNamePattern=<pattern>     # æµ‹è¯•åç§°æ¨¡å¼
--config=<path>         # Jesté…ç½®æ–‡ä»¶
```

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: æ—¥å¸¸å¼€å‘æµ‹è¯•
```bash
# å¿«é€Ÿå•å…ƒæµ‹è¯•
node test-runner-secure.improved.cjs

# ç›‘è§†æ¨¡å¼å¼€å‘
node test-runner-secure.improved.cjs --watch
```

### åœºæ™¯2: CI/CDé›†æˆ
```bash
# CIç¯å¢ƒæµ‹è¯•
node test-runner-secure.improved.cjs --coverage --silent

# é›†æˆæµ‹è¯•
node test-runner-secure.improved.cjs integration --maxWorkers=4
```

### åœºæ™¯3: ç‰¹å®šæµ‹è¯•
```bash
# æµ‹è¯•ç‰¹å®šæ¨¡å—
node test-runner-secure.improved.cjs --testPathPattern="auth.*"

# æµ‹è¯•ç‰¹å®šç”¨ä¾‹
node test-runner-secure.improved.cjs --testNamePattern="login"
```

## ç›‘æ§å’Œè°ƒè¯•

### æ€§èƒ½ç›‘æ§
- è‡ªåŠ¨å†…å­˜ç›‘æ§ï¼ˆé™åˆ¶ï¼š512MBï¼‰
- æ‰§è¡Œæ—¶é—´è·Ÿè¸ªï¼ˆè¶…æ—¶ï¼š30ç§’ï¼‰
- å¹¶å‘è¿›ç¨‹ç®¡ç†

### é”™è¯¯å¤„ç†
- è‡ªåŠ¨é”™è¯¯æ¢å¤ï¼ˆæœ€å¤š3æ¬¡é‡è¯•ï¼‰
- è¯¦ç»†é”™è¯¯æ—¥å¿—
- ä¼˜é›…å…³é—­æœºåˆ¶

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è°ƒè¯•ä¿¡æ¯
DEBUG=1 node test-runner-secure.improved.cjs --verbose
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. å‘½ä»¤æ‰§è¡Œé¢‘ç‡é™åˆ¶
**é—®é¢˜**: "å‘½ä»¤æ‰§è¡Œé¢‘ç‡è¿‡é«˜"
**è§£å†³**: 
- æ”¹è¿›ç‰ˆæœ¬å·²ä¼˜åŒ–é™åˆ¶ï¼ˆ50æ¬¡/10ç§’ï¼‰
- å¦‚ä»é‡åˆ°ï¼Œç­‰å¾…10ç§’åé‡è¯•

#### 2. å†…å­˜ä½¿ç”¨è¿‡é«˜
**é—®é¢˜**: "å†…å­˜ä½¿ç”¨è¿‡é«˜"
**è§£å†³**:
- è‡ªåŠ¨è§¦å‘åƒåœ¾å›æ”¶
- å‡å°‘å¹¶å‘æ•°ï¼š`--maxWorkers=2`

#### 3. å¹¶å‘å†²çª
**é—®é¢˜**: "æ— æ³•è·å–è¿›ç¨‹é”"
**è§£å†³**:
- è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼ˆæœ€å¤š5æ¬¡ï¼‰
- éšæœºå»¶è¿Ÿé¿å…å†²çª

#### 4. å‚æ•°éªŒè¯å¤±è´¥
**é—®é¢˜**: "å‚æ•°åŒ…å«å±é™©æ¨¡å¼"
**è§£å†³**:
- æ£€æŸ¥å‚æ•°ä¸­çš„ç‰¹æ®Šå­—ç¬¦
- ä½¿ç”¨å¼•å·åŒ…å›´å¤æ‚å‚æ•°

### æ—¥å¿—åˆ†æ
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -f logs/test-runner.log

# åˆ†æé”™è¯¯æ¨¡å¼
grep "ERROR" logs/test-runner.log
```

## æœ€ä½³å®è·µ

### 1. å‚æ•°ä½¿ç”¨
```bash
# âœ… æ¨è
node test-runner-secure.improved.cjs --testPathPattern="src/auth"

# âŒ é¿å…
node test-runner-secure.improved.cjs --testPathPattern="../../../etc"
```

### 2. å¹¶å‘æ§åˆ¶
```bash
# å¼€å‘ç¯å¢ƒï¼šä½¿ç”¨ç›‘è§†æ¨¡å¼
node test-runner-secure.improved.cjs --watch

# CIç¯å¢ƒï¼šé™åˆ¶å¹¶å‘
node test-runner-secure.improved.cjs --maxWorkers=2 --timeout=60000
```

### 3. æ€§èƒ½ä¼˜åŒ–
```bash
# å¤§å‹é¡¹ç›®ï¼šåˆ†æ‰¹æµ‹è¯•
node test-runner-secure.improved.cjs --testPathPattern="src/module1"
node test-runner-secure.improved.cjs --testPathPattern="src/module2"
```

## è¿ç§»æŒ‡å—

### ä»åŸç‰ˆæœ¬è¿ç§»

#### 1. å¤‡ä»½åŸç‰ˆæœ¬
```bash
cp test-runner-secure.cjs test-runner-secure.cjs.backup
```

#### 2. æ›¿æ¢ä¸ºæ”¹è¿›ç‰ˆæœ¬
```bash
cp test-runner-secure.improved.cjs test-runner-secure.cjs
```

#### 3. éªŒè¯åŠŸèƒ½
```bash
# è¿è¡ŒéªŒè¯æµ‹è¯•
node test-runner-secure.validation-tests.cjs

# è¿è¡Œå®é™…æµ‹è¯•
node test-runner-secure.cjs --help
```

#### 4. æ›´æ–°CIè„šæœ¬
```bash
# åŸè„šæœ¬å¯èƒ½éœ€è¦è°ƒæ•´è¶…æ—¶å’Œå¹¶å‘å‚æ•°
# æ–°ç‰ˆæœ¬æœ‰æ›´åˆç†çš„é»˜è®¤å€¼
```

### å…¼å®¹æ€§è¯´æ˜
- âœ… å®Œå…¨å‘åå…¼å®¹åŸç‰ˆæœ¬API
- âœ… æ‰€æœ‰åŸæœ‰å‚æ•°ç»§ç»­æ”¯æŒ
- âœ… è¾“å‡ºæ ¼å¼ä¿æŒä¸€è‡´
- âœ… å®‰å…¨ç‰¹æ€§å®Œå…¨ä¿ç•™

## ç‰ˆæœ¬ä¿¡æ¯

- **å½“å‰ç‰ˆæœ¬**: v3.3.0 å¥å£®æ€§å¢å¼ºç‰ˆ
- **åŸºäºç‰ˆæœ¬**: v3.2 å®‰å…¨å¢å¼ºç‰ˆ
- **æ”¹è¿›æ—¥æœŸ**: 2025-10-10
- **æµ‹è¯•é€šè¿‡ç‡**: 94.4%

## æ”¯æŒå’Œåé¦ˆ

### é—®é¢˜æŠ¥å‘Š
1. è¿è¡ŒéªŒè¯æµ‹è¯•ç¡®è®¤é—®é¢˜
2. æ”¶é›†é”™è¯¯æ—¥å¿—å’Œç³»ç»Ÿä¿¡æ¯
3. æä¾›å¤ç°æ­¥éª¤

### æ€§èƒ½è°ƒä¼˜
1. ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µ
2. æ ¹æ®é¡¹ç›®è§„æ¨¡è°ƒæ•´å‚æ•°
3. å®šæœŸè¿è¡ŒéªŒè¯æµ‹è¯•

---

**æ³¨æ„**: æ”¹è¿›ç‰ˆæœ¬åœ¨ä¿æŒå®‰å…¨æ€§çš„åŒæ—¶æ˜¾è‘—æå‡äº†å¥å£®æ€§å’Œæ€§èƒ½ï¼Œå»ºè®®åœ¨å……åˆ†æµ‹è¯•åæ›¿æ¢åŸç‰ˆæœ¬ä½¿ç”¨ã€‚