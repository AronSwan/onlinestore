# AI 任务执行模板（可直接复制使用）

适用范围：需求分析、方案设计、实现、调试、测试、重构、文档交付的全流程。

## 1) 任务与验收
- 任务目标（一句话）：
- 背景/上下文（1-3 句）：
- 验收标准（3-5 条可验证）：
  - [ ] 功能/输出
  - [ ] 性能/时延/并发
  - [ ] 兼容性/回滚
  - [ ] 安全/隐私
  - [ ] 文档/测试

## 2) 约束与边界
- 约束（性能/安全/兼容/风格）：
- 非目标（本次不做）：
- 风险与假设（最小化假设，列清单）：

## 3) 方案对比与选择
- 方案A：优/劣/适用场景
- 方案B：优/劣/适用场景
- 选型理由：复杂度、风险、依赖、迁移影响
- 影响面：接口/数据结构/配置/部署

## 4) 实施计划
- 变更清单（文件/模块/接口）：
- 步骤拆解（≤1 小时/项）：
- 回滚策略与风控点：
- AI Plan 概要（目标/范围/验收/变更清单/步骤/风控/依赖/负责人）：

## 5) 代码实现要点
- 输入校验与错误处理：
- 并发/资源/超时/重试：
- 日志与可观测（脱敏、追踪ID）：
- 依赖与版本策略：
- AI Code 片段与路径（关键补丁/插入位置/运行与测试命令/回滚步骤）：

## 6) AI Debug 系统化调试流程
- 复现：最小复现/脚本/固定环境
- 假设：列出候选假设与证据
- 数据/日志：结构化日志、trace、profile
- 根因：使用“五问法/鱼骨图”定位
- 修复：变更说明与边界验证
- 回归：新增/更新测试用例与命令

## 7) 测试验证
- 测试类型：单测/集成/端到端/性能
- 覆盖范围：成功/边界/异常/防回归
- 运行命令与期望结果：
- 数据准备与清理：

## 8) 文档交付
- 变更记录：
- 使用说明/配置项/运行步骤：
- 接口/模块说明（输入/输出/异常）：
- 运维与监控（指标/报警建议）：
- 安全与合规（权限/数据最小化/审计）：

## 9) AI Reconstruction 重构指引（如涉及）
- 触发信号：重复/长函数/神对象/循环依赖…
- 方法：提取/解耦/依赖倒置/接口分离
- 风险控制：契约测试/金丝雀/版本化接口
- 指标：复杂度/耦合度/覆盖率/启动时长
- 回滚与兼容期说明：

## 10) 风险与回滚
- 潜在影响与降级方案：
- 回滚步骤/脚本：
- 成功与失败判定标准：

## 11) 自检清单
- [ ] 验收标准量化并满足
- [ ] 遵循代码风格与模块边界
- [ ] 错误处理完整、日志充分且不泄露敏感信息
- [ ] 新增依赖评估与锁定
- [ ] 测试可运行且覆盖关键路径与边界
- [ ] 文档齐全，包含运行/回滚/限制说明
- [ ] 无不必要大重构，变更最小化
- [ ] 性能与资源使用可接受或标注风险
- [ ] 通用性验证：不绑定特定技术栈或给出替代路径
- [ ] 技术债务记录：登记描述、影响、优先级、偿还计划

## 12) 后续改进
- 技术债清单与偿还节奏：
- 可选优化与下一步迭代建议：

---
参考规范：../../AI_DEV_PROMPT_GUIDE.md