# 安全与合规（加强版）

网络与端口
- 多数 ISP 封锁 25 端口，启用 SMTP 检查将导致超时或拒绝；建议代理或改用厂商 API 校验（需合规评估）。

速率限制与反滥用
- SMTP：对 MX 主机做并发拨号与 RCPT 操作，若无限流会触发对端反爬/限速。建议：
  - 域级并发上限与全局并发上限。
  - 指数退避与抖动；短期失败负缓存。
- API Verifier：存在配额与策略限制；需监控配额消耗与失败率，设置降级路径。

隐私与日志
- 不发送实际邮件，但进行 DNS/SMTP 握手。避免记录完整 SMTP 原始响应与代理凭证。
- 日志仅保留必要的错误语义码（如 ErrFullInbox/ErrNotAllowed）与邮箱掩码/域名。
- 代理 URI（含凭证）应通过安全配置管理，不写入代码或明文日志。

数据来源与更新
- 一次性域名清单由外部来源提供，EnableAutoUpdateDisposable() 将周期更新：
  - 更新流程可能短暂不一致（先删除后写入），在高并发场景建议外层读写锁或原子替换策略。
  - 标注来源与更新时间，避免误判影响用户体验。

合规与政策
- 厂商 API 使用须遵守服务使用条款与隐私政策；在跨地区代理与API调用时，需考虑合规（数据跨境、运营商政策）。
- 用户数据最小化与可审计：保留必要字段、生命周期管理与访问控制。