# 部署与运维

部署方式
- Docker/docker-compose：快速起步，适合开发与小规模生产。
- Kubernetes：适合中大型环境，结合存储与扩容策略。

基础配置
- 组织与流：创建 org 与 stream，发放 Ingest Token。
- 端口与网络：确保 Ingest 端口（默认 5080）可从业务服务访问。
- 认证与访问控制：使用 Token 保护写入与查询；按租户隔离。

存储与扩容
- 分片与副本：按数据量与查询模式调整分片与复制策略。
- 保留策略：设置数据保留周期，控制存储成本。
- 热/冷分层（如有）：根据访问频次进行分层存储。

备份与恢复
- 依据官方文档对存储目录/卷进行快照与备份。
- 灾备：跨区/跨云部署与数据复制策略。

运维建议
- 滚动升级：保持服务可用性与数据一致性。
- 指标与健康检查：监控 Ingest 成功率、查询延迟、存储使用、错误比率。
- 日常治理：stream 命名规范、标签约定、查询模板复用。